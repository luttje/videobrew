import{S as ie,i as oe,s as fe,C as ne,k as w,q as C,a as R,l as k,m as E,r as H,h,c as j,n as d,b as y,G as g,D as se,E as ae,F as re,g as I,d as D,J as ue,K as J,L as pe,M as de,v as be,f as ve,N as we,O as Re,o as ke,w as ce,P as Ce,y as W,e as qe,z as B,p as T,A as U,B as O,Q as He,R as Ne,T as Te,u as Fe}from"../chunks/index.54b4eb81.js";const We=n=>({}),ye=n=>({});function Be(n){let e,t,l,s,i;const f=n[1].default,u=ne(f,n,n[0],null),o=n[1].input,r=ne(o,n,n[0],ye);return{c(){e=w("div"),t=w("span"),u&&u.c(),l=C(":"),s=R(),r&&r.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var c=E(e);t=k(c,"SPAN",{class:!0});var _=E(t);u&&u.l(_),l=H(_,":"),_.forEach(h),s=j(c),r&&r.l(c),c.forEach(h),this.h()},h(){d(t,"class","text-sm italic"),d(e,"class","flex flex-row gap-4 items-center")},m(a,c){y(a,e,c),g(e,t),u&&u.m(t,null),g(t,l),g(e,s),r&&r.m(e,null),i=!0},p(a,[c]){u&&u.p&&(!i||c&1)&&se(u,f,a,a[0],i?re(f,a[0],c,null):ae(a[0]),null),r&&r.p&&(!i||c&1)&&se(r,o,a,a[0],i?re(o,a[0],c,We):ae(a[0]),ye)},i(a){i||(I(u,a),I(r,a),i=!0)},o(a){D(u,a),D(r,a),i=!1},d(a){a&&h(e),u&&u.d(a),r&&r.d(a)}}}function Ue(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class he extends ie{constructor(e){super(),oe(this,e,Ue,Be,fe,{})}}function Oe(n){let e,t,l,s,i,f;const u=n[5].default,o=ne(u,n,n[4],null);return{c(){e=w("a"),o&&o.c(),this.h()},l(r){e=k(r,"A",{class:!0,"data-is-selected":!0,"data-target-form":!0,tabindex:!0,href:!0});var a=E(e);o&&o.l(a),a.forEach(h),this.h()},h(){d(e,"class","flex flex-1 items-center justify-center px-8 py-4 gap-2 bg-slate-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest ring-gray-300 transition ease-in-out duration-150 aria-disabled:cursor-not-allowed aria-disabled:opacity-25 hover:bg-slate-500 active:bg-slate-800 focus:outline-none focus:border-slate-900 focus:ring focus:ring-offset-2"),d(e,"data-is-selected",n[2]),d(e,"data-target-form",n[3]),d(e,"tabindex",t=n[1]?-1:0),d(e,"href",l=n[1]?"javascript:void(0);":n[0]),ue(e,"opacity-50",n[1]),ue(e,"ring",n[2])},m(r,a){y(r,e,a),o&&o.m(e,null),s=!0,i||(f=J(e,"click",n[6]),i=!0)},p(r,[a]){o&&o.p&&(!s||a&16)&&se(o,u,r,r[4],s?re(u,r[4],a,null):ae(r[4]),null),(!s||a&4)&&d(e,"data-is-selected",r[2]),(!s||a&8)&&d(e,"data-target-form",r[3]),(!s||a&2&&t!==(t=r[1]?-1:0))&&d(e,"tabindex",t),(!s||a&3&&l!==(l=r[1]?"javascript:void(0);":r[0]))&&d(e,"href",l),(!s||a&2)&&ue(e,"opacity-50",r[1]),(!s||a&4)&&ue(e,"ring",r[2])},i(r){s||(I(o,r),s=!0)},o(r){D(o,r),s=!1},d(r){r&&h(e),o&&o.d(r),i=!1,f()}}}function Ye(n,e,t){let{$$slots:l={},$$scope:s}=e,{href:i=""}=e,{disabled:f=!1}=e,{selected:u=!1}=e,{form:o=void 0}=e;function r(a){pe.call(this,n,a)}return n.$$set=a=>{"href"in a&&t(0,i=a.href),"disabled"in a&&t(1,f=a.disabled),"selected"in a&&t(2,u=a.selected),"form"in a&&t(3,o=a.form),"$$scope"in a&&t(4,s=a.$$scope)},[i,f,u,o,s,l,r]}class _e extends ie{constructor(e){super(),oe(this,e,Ye,Oe,fe,{href:0,disabled:1,selected:2,form:3})}}function Le(n){let e,t;const l=n[9].default,s=ne(l,n,n[8],null);return{c(){e=w("label"),s&&s.c(),this.h()},l(i){e=k(i,"LABEL",{for:!0,class:!0});var f=E(e);s&&s.l(f),f.forEach(h),this.h()},h(){d(e,"for",n[2]),d(e,"class","text-sm font-bold text-gray-700")},m(i,f){y(i,e,f),s&&s.m(e,null),n[11](e),t=!0},p(i,f){s&&s.p&&(!t||f&256)&&se(s,l,i,i[8],t?re(l,i[8],f,null):ae(i[8]),null),(!t||f&4)&&d(e,"for",i[2])},i(i){t||(I(s,i),t=!0)},o(i){D(s,i),t=!1},d(i){i&&h(e),s&&s.d(i),n[11](null)}}}function ze(n){let e,t,l,s,i,f,u,o=n[7].default&&Le(n);return{c(){e=w("div"),o&&o.c(),t=R(),l=w("input"),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=E(e);o&&o.l(a),t=j(a),l=k(a,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0}),a.forEach(h),this.h()},h(){d(l,"id",n[2]),d(l,"class",s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(n[5]?"w-20":"w-auto")),d(l,"placeholder",n[0]),d(l,"type","text"),l.disabled=n[3],l.required=n[4],d(e,"class","flex flex-col gap-1")},m(r,a){y(r,e,a),o&&o.m(e,null),g(e,t),g(e,l),de(l,n[1]),i=!0,f||(u=[J(l,"input",n[10]),J(l,"input",n[12])],f=!0)},p(r,[a]){r[7].default?o?(o.p(r,a),a&128&&I(o,1)):(o=Le(r),o.c(),I(o,1),o.m(e,t)):o&&(be(),D(o,1,1,()=>{o=null}),ve()),(!i||a&4)&&d(l,"id",r[2]),(!i||a&32&&s!==(s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(r[5]?"w-20":"w-auto")))&&d(l,"class",s),(!i||a&1)&&d(l,"placeholder",r[0]),(!i||a&8)&&(l.disabled=r[3]),(!i||a&16)&&(l.required=r[4]),a&2&&l.value!==r[1]&&de(l,r[1])},i(r){i||(I(o),i=!0)},o(r){D(o),i=!1},d(r){r&&h(e),o&&o.d(),f=!1,we(u)}}}function Ge(n,e,t){let{$$slots:l={},$$scope:s}=e;const i=Re(l);let{id:f=void 0}=e,{placeholder:u=void 0}=e,{value:o=""}=e,{disabled:r=!1}=e,{required:a=!1}=e,{small:c=!1}=e,_;ke(()=>{!u&&_&&t(0,u=_.textContent)});function A(v){pe.call(this,n,v)}function S(v){ce[v?"unshift":"push"](()=>{_=v,t(6,_)})}function V(){o=this.value,t(1,o)}return n.$$set=v=>{"id"in v&&t(2,f=v.id),"placeholder"in v&&t(0,u=v.placeholder),"value"in v&&t(1,o=v.value),"disabled"in v&&t(3,r=v.disabled),"required"in v&&t(4,a=v.required),"small"in v&&t(5,c=v.small),"$$scope"in v&&t(8,s=v.$$scope)},[u,o,f,r,a,c,_,i,s,l,A,S,V]}class ge extends ie{constructor(e){super(),oe(this,e,Ge,ze,fe,{id:2,placeholder:0,value:1,disabled:3,required:4,small:5})}}function Ae(n){let e,t;const l=n[12].default,s=ne(l,n,n[11],null);return{c(){e=w("label"),s&&s.c(),this.h()},l(i){e=k(i,"LABEL",{for:!0,class:!0});var f=E(e);s&&s.l(f),f.forEach(h),this.h()},h(){d(e,"for",n[2]),d(e,"class","text-sm font-bold text-gray-700")},m(i,f){y(i,e,f),s&&s.m(e,null),n[14](e),t=!0},p(i,f){s&&s.p&&(!t||f&2048)&&se(s,l,i,i[11],t?re(l,i[11],f,null):ae(i[11]),null),(!t||f&4)&&d(e,"for",i[2])},i(i){t||(I(s,i),t=!0)},o(i){D(s,i),t=!1},d(i){i&&h(e),s&&s.d(i),n[14](null)}}}function Je(n){let e,t,l,s,i,f,u,o=n[10].default&&Ae(n);return{c(){e=w("div"),o&&o.c(),t=R(),l=w("input"),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=E(e);o&&o.l(a),t=j(a),l=k(a,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0,min:!0,max:!0,step:!0}),a.forEach(h),this.h()},h(){d(l,"id",n[2]),d(l,"class",s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(n[8]?"w-20":"w-auto")),d(l,"placeholder",n[0]),d(l,"type","range"),l.disabled=n[6],l.required=n[7],d(l,"min",n[3]),d(l,"max",n[4]),d(l,"step",n[5]),d(e,"class","flex flex-col gap-1")},m(r,a){y(r,e,a),o&&o.m(e,null),g(e,t),g(e,l),de(l,n[1]),i=!0,f||(u=[J(l,"input",n[13]),J(l,"change",n[15]),J(l,"input",n[15])],f=!0)},p(r,[a]){r[10].default?o?(o.p(r,a),a&1024&&I(o,1)):(o=Ae(r),o.c(),I(o,1),o.m(e,t)):o&&(be(),D(o,1,1,()=>{o=null}),ve()),(!i||a&4)&&d(l,"id",r[2]),(!i||a&256&&s!==(s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(r[8]?"w-20":"w-auto")))&&d(l,"class",s),(!i||a&1)&&d(l,"placeholder",r[0]),(!i||a&64)&&(l.disabled=r[6]),(!i||a&128)&&(l.required=r[7]),(!i||a&8)&&d(l,"min",r[3]),(!i||a&16)&&d(l,"max",r[4]),(!i||a&32)&&d(l,"step",r[5]),a&2&&de(l,r[1])},i(r){i||(I(o),i=!0)},o(r){D(o),i=!1},d(r){r&&h(e),o&&o.d(),f=!1,we(u)}}}function Ke(n,e,t){let{$$slots:l={},$$scope:s}=e;const i=Re(l);let{id:f=void 0}=e,{placeholder:u=void 0}=e,{value:o}=e,{min:r=0}=e,{max:a=100}=e,{step:c=1}=e,{disabled:_=!1}=e,{required:A=!1}=e,{small:S=!1}=e,V;ke(()=>{!u&&V&&t(0,u=V.textContent)});function v(p){pe.call(this,n,p)}function M(p){ce[p?"unshift":"push"](()=>{V=p,t(9,V)})}function F(){o=Ce(this.value),t(1,o)}return n.$$set=p=>{"id"in p&&t(2,f=p.id),"placeholder"in p&&t(0,u=p.placeholder),"value"in p&&t(1,o=p.value),"min"in p&&t(3,r=p.min),"max"in p&&t(4,a=p.max),"step"in p&&t(5,c=p.step),"disabled"in p&&t(6,_=p.disabled),"required"in p&&t(7,A=p.required),"small"in p&&t(8,S=p.small),"$$scope"in p&&t(11,s=p.$$scope)},[u,o,f,r,a,c,_,A,S,V,i,s,l,v,M,F]}class Qe extends ie{constructor(e){super(),oe(this,e,Ke,Je,fe,{id:2,placeholder:0,value:1,min:3,max:4,step:5,disabled:6,required:7,small:8})}}const{window:Xe}=He;function Ze(n){let e;return{c(){e=C("Framerate")},l(t){e=H(t,"Framerate")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function $e(n){var l;let e,t;return e=new ge({props:{slot:"input",disabled:!0,value:(l=n[4])==null?void 0:l.toString()}}),{c(){W(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,i){U(e,s,i),t=!0},p(s,i){var u;const f={};i&16&&(f.value=(u=s[4])==null?void 0:u.toString()),e.$set(f)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){O(e,s)}}}function xe(n){let e;return{c(){e=C("Resolution")},l(t){e=H(t,"Resolution")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function et(n){var f,u;let e,t,l,s,i;return t=new ge({props:{small:!0,disabled:!0,value:(f=n[2])==null?void 0:f.toString()}}),s=new ge({props:{small:!0,disabled:!0,value:(u=n[3])==null?void 0:u.toString()}}),{c(){e=w("div"),W(t.$$.fragment),l=C(`\r
          x\r
          `),W(s.$$.fragment),this.h()},l(o){e=k(o,"DIV",{slot:!0,class:!0});var r=E(e);B(t.$$.fragment,r),l=H(r,`\r
          x\r
          `),B(s.$$.fragment,r),r.forEach(h),this.h()},h(){d(e,"slot","input"),d(e,"class","flex flex-row gap-2")},m(o,r){y(o,e,r),U(t,e,null),g(e,l),U(s,e,null),i=!0},p(o,r){var _,A;const a={};r&4&&(a.value=(_=o[2])==null?void 0:_.toString()),t.$set(a);const c={};r&8&&(c.value=(A=o[3])==null?void 0:A.toString()),s.$set(c)},i(o){i||(I(t.$$.fragment,o),I(s.$$.fragment,o),i=!0)},o(o){D(t.$$.fragment,o),D(s.$$.fragment,o),i=!1},d(o){o&&h(e),O(t),O(s)}}}function tt(n){let e;return{c(){e=C("Scale")},l(t){e=H(t,"Scale")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function lt(n){let e,t,l;function s(f){n[12](f)}let i={slot:"input",step:.1,min:.1,max:1};return n[1]!==void 0&&(i.value=n[1]),e=new Qe({props:i}),ce.push(()=>Ne(e,"value",s)),{c(){W(e.$$.fragment)},l(f){B(e.$$.fragment,f)},m(f,u){U(e,f,u),l=!0},p(f,u){const o={};!t&&u&2&&(t=!0,o.value=f[1],Te(()=>t=!1)),e.$set(o)},i(f){l||(I(e.$$.fragment,f),l=!0)},o(f){D(e.$$.fragment,f),l=!1},d(f){O(e,f)}}}function nt(n){let e,t;return e=new _e({props:{$$slots:{default:[at]},$$scope:{ctx:n}}}),e.$on("click",n[7]),{c(){W(e.$$.fragment)},l(l){B(e.$$.fragment,l)},m(l,s){U(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){O(e,l)}}}function st(n){let e,t,l,s,i;return t=new _e({props:{$$slots:{default:[rt]},$$scope:{ctx:n}}}),t.$on("click",n[8]),s=new _e({props:{$$slots:{default:[it]},$$scope:{ctx:n}}}),s.$on("click",n[9]),{c(){e=w("div"),W(t.$$.fragment),l=R(),W(s.$$.fragment),this.h()},l(f){e=k(f,"DIV",{class:!0});var u=E(e);B(t.$$.fragment,u),l=j(u),B(s.$$.fragment,u),u.forEach(h),this.h()},h(){d(e,"class","flex flex-row gap-2")},m(f,u){y(f,e,u),U(t,e,null),g(e,l),U(s,e,null),i=!0},p(f,u){const o={};u&1048576&&(o.$$scope={dirty:u,ctx:f}),t.$set(o);const r={};u&1048576&&(r.$$scope={dirty:u,ctx:f}),s.$set(r)},i(f){i||(I(t.$$.fragment,f),I(s.$$.fragment,f),i=!0)},o(f){D(t.$$.fragment,f),D(s.$$.fragment,f),i=!1},d(f){f&&h(e),O(t),O(s)}}}function at(n){let e;return{c(){e=C("Play")},l(t){e=H(t,"Play")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function rt(n){let e;return{c(){e=C("Pause")},l(t){e=H(t,"Pause")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function it(n){let e;return{c(){e=C("Stop")},l(t){e=H(t,"Stop")},m(t,l){y(t,e,l)},d(t){t&&h(e)}}}function Me(n){let e,t,l,s=n[0].heading+"",i,f,u,o=n[0].message+"";return{c(){e=w("div"),t=w("div"),l=w("h1"),i=C(s),f=R(),u=w("p"),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=E(e);t=k(a,"DIV",{class:!0});var c=E(t);l=k(c,"H1",{class:!0});var _=E(l);i=H(_,s),_.forEach(h),f=j(c),u=k(c,"P",{class:!0});var A=E(u);A.forEach(h),c.forEach(h),a.forEach(h),this.h()},h(){d(l,"class","text-2xl font-bold"),d(u,"class","text-gray-600"),d(t,"class","flex flex-col gap-2 p-4 bg-white rounded-lg shadow w-64"),d(e,"class","fixed text-black bg-black bg-opacity-50 inset-0 z-50 flex flex-col items-center justify-center")},m(r,a){y(r,e,a),g(e,t),g(t,l),g(l,i),g(t,f),g(t,u),u.innerHTML=o},p(r,a){a&1&&s!==(s=r[0].heading+"")&&Fe(i,s),a&1&&o!==(o=r[0].message+"")&&(u.innerHTML=o)},d(r){r&&h(e)}}}function ot(n){let e,t,l,s,i,f,u,o,r,a,c,_,A,S,V,v,M,F,p,ee,K,te,P,q,z,X,Z,N,me,Ee;s=new he({props:{$$slots:{input:[$e],default:[Ze]},$$scope:{ctx:n}}}),f=new he({props:{$$slots:{input:[et],default:[xe]},$$scope:{ctx:n}}}),o=new he({props:{$$slots:{input:[lt],default:[tt]},$$scope:{ctx:n}}});const Ie=[st,nt],G=[];function Ve(m,b){return m[6].playing?0:1}S=Ve(n),V=G[S]=Ie[S](n);let L=n[0]&&Me(n);return{c(){e=w("main"),t=w("div"),l=w("div"),W(s.$$.fragment),i=R(),W(f.$$.fragment),u=R(),W(o.$$.fragment),r=R(),a=w("div"),c=w("div"),_=w("iframe"),A=R(),V.c(),v=R(),M=w("div"),F=w("h2"),p=C("How to render"),ee=R(),K=w("p"),te=C("You can render this video by running this command in the root of your video project:"),P=R(),q=w("pre"),z=C("videobrew render"),X=R(),L&&L.c(),Z=qe(),this.h()},l(m){e=k(m,"MAIN",{class:!0});var b=E(e);t=k(b,"DIV",{class:!0});var Q=E(t);l=k(Q,"DIV",{class:!0});var Y=E(l);B(s.$$.fragment,Y),i=j(Y),B(f.$$.fragment,Y),u=j(Y),B(o.$$.fragment,Y),Y.forEach(h),r=j(Q),a=k(Q,"DIV",{class:!0,style:!0});var le=E(a);c=k(le,"DIV",{class:!0,style:!0});var $=E(c);_=k($,"IFRAME",{title:!0,class:!0,id:!0,width:!0,height:!0});var je=E(_);je.forEach(h),$.forEach(h),le.forEach(h),Q.forEach(h),A=j(b),V.l(b),v=j(b),M=k(b,"DIV",{class:!0});var x=E(M);F=k(x,"H2",{class:!0});var Pe=E(F);p=H(Pe,"How to render"),Pe.forEach(h),ee=j(x),K=k(x,"P",{});var De=E(K);te=H(De,"You can render this video by running this command in the root of your video project:"),De.forEach(h),P=j(x),q=k(x,"PRE",{});var Se=E(q);z=H(Se,"videobrew render"),Se.forEach(h),x.forEach(h),b.forEach(h),X=j(m),L&&L.l(m),Z=qe(),this.h()},h(){d(l,"class","flex flex-col gap-2 p-4 bg-slate-600 items-center"),d(_,"title","Video described by web-app"),d(_,"class","hidden"),d(_,"id","video"),d(_,"width",n[2]),d(_,"height",n[3]),d(c,"class","relative overflow-hidden inline-block bg-white"),T(c,"width",n[2]+"px"),T(c,"height",n[3]+"px"),T(c,"transform","scale("+n[1]+")"),T(c,"transform-origin","top left"),d(a,"class","overflow-hidden m-2"),T(a,"width",n[2]*n[1]+"px"),T(a,"height",n[3]*n[1]+"px"),d(t,"class","flex flex-col bg-slate-700 border-inside border-2 border-slate-600"),d(F,"class","text-xl"),d(M,"class","rounded bg-slate-700 p-4"),d(e,"class","flex flex-col gap-4")},m(m,b){y(m,e,b),g(e,t),g(t,l),U(s,l,null),g(l,i),U(f,l,null),g(l,u),U(o,l,null),g(t,r),g(t,a),g(a,c),g(c,_),n[13](_),g(e,A),G[S].m(e,null),g(e,v),g(e,M),g(M,F),g(F,p),g(M,ee),g(M,K),g(K,te),g(M,P),g(M,q),g(q,z),y(m,X,b),L&&L.m(m,b),y(m,Z,b),N=!0,me||(Ee=[J(Xe,"message",n[11]),J(_,"load",n[10])],me=!0)},p(m,[b]){const Q={};b&1048592&&(Q.$$scope={dirty:b,ctx:m}),s.$set(Q);const Y={};b&1048588&&(Y.$$scope={dirty:b,ctx:m}),f.$set(Y);const le={};b&1048578&&(le.$$scope={dirty:b,ctx:m}),o.$set(le),(!N||b&4)&&d(_,"width",m[2]),(!N||b&8)&&d(_,"height",m[3]),(!N||b&4)&&T(c,"width",m[2]+"px"),(!N||b&8)&&T(c,"height",m[3]+"px"),(!N||b&2)&&T(c,"transform","scale("+m[1]+")"),(!N||b&6)&&T(a,"width",m[2]*m[1]+"px"),(!N||b&10)&&T(a,"height",m[3]*m[1]+"px");let $=S;S=Ve(m),S===$?G[S].p(m,b):(be(),D(G[$],1,1,()=>{G[$]=null}),ve(),V=G[S],V?V.p(m,b):(V=G[S]=Ie[S](m),V.c()),I(V,1),V.m(e,v)),m[0]?L?L.p(m,b):(L=Me(m),L.c(),L.m(Z.parentNode,Z)):L&&(L.d(1),L=null)},i(m){N||(I(s.$$.fragment,m),I(f.$$.fragment,m),I(o.$$.fragment,m),I(V),N=!0)},o(m){D(s.$$.fragment,m),D(f.$$.fragment,m),D(o.$$.fragment,m),D(V),N=!1},d(m){m&&h(e),O(s),O(f),O(o),n[13](null),G[S].d(),m&&h(X),L&&L.d(m),m&&h(Z),me=!1,we(Ee)}}}function ft(n,e,t){let l={heading:"Loading...",message:"Please wait while we load your video..."},s=.2,i,f,u,o,r,a,c={playing:!1,frame:0};function _(P,q){if(!a.contentWindow)throw new Error("Video iframe has no contentWindow");a.contentWindow.postMessage({...q,type:P},"*")}function A(){t(6,c.playing=!0,c),r&&clearInterval(r),r=setInterval(()=>{c.playing&&(c.frame>=o&&M(),_("videobrew.tick",{frame:c.frame}),V())},1e3/u)}function S(){t(6,c.playing=!1,c)}function V(){t(6,c.frame++,c)}function v(){t(6,c.frame=0,c)}function M(){S(),v(),_("videobrew.tick",{frame:c.frame}),r&&clearInterval(r)}function F(){console.log("Video loaded"),_("videobrew.init"),_("videobrew.tick",{frame:c.frame})}function p(P){const{data:q}=P;switch(q.type){case"videobrew.setup":ee(q.width,q.height,q.framerate,q.frameCount);break}}function ee(P,q,z,X){t(2,i=P),t(3,f=q),t(4,u=z),o=X,console.log("Video setup",{width:i,height:f,framerate:u,frameCount:o}),a.classList.remove("hidden"),t(0,l=null)}ke(()=>{let P=window.VIDEOBREW_VIDEO_APP_URL;t(5,a.src=P,a),t(0,l={heading:"Loading...",message:`Please wait while we load your video @ <a href="${P}" target="_new">${P}</a>`});const q=()=>{t(0,l={heading:"Video not found",message:`We couldn't find your video @ <a href="${P}" target="_new">${P}</a><br>You should check that you are serving your video correctly.`})};fetch(P).then(z=>{if(!z.ok)return q()}).catch(z=>q())});function K(P){s=P,t(1,s)}function te(P){ce[P?"unshift":"push"](()=>{a=P,t(5,a)})}return[l,s,i,f,u,a,c,A,S,M,F,p,K,te]}class dt extends ie{constructor(e){super(),oe(this,e,ft,ot,fe,{})}}export{dt as default};
