import{S as fe,i as oe,s as ue,C as se,k as w,q as C,a as A,l as k,m as E,r as H,h,c as j,n as d,b as S,G as b,D as ae,E as re,F as ie,g as I,d as q,J as ce,K as J,L as ve,M as me,v as we,f as ke,N as Ee,O as He,o as Ie,w as he,P as Re,y as F,e as Le,z as W,Q as Te,p as T,A as B,B as U,R as Fe,T as We,u as Be}from"../chunks/index.b48e0a7e.js";const Ue=n=>({}),Me=n=>({});function Ye(n){let e,t,l,s,i;const o=n[1].default,u=se(o,n,n[0],null),f=n[1].input,r=se(f,n,n[0],Me);return{c(){e=w("div"),t=w("span"),u&&u.c(),l=C(":"),s=A(),r&&r.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var c=E(e);t=k(c,"SPAN",{class:!0});var _=E(t);u&&u.l(_),l=H(_,":"),_.forEach(h),s=j(c),r&&r.l(c),c.forEach(h),this.h()},h(){d(t,"class","text-sm italic"),d(e,"class","flex flex-row gap-4 items-center")},m(a,c){S(a,e,c),b(e,t),u&&u.m(t,null),b(t,l),b(e,s),r&&r.m(e,null),i=!0},p(a,[c]){u&&u.p&&(!i||c&1)&&ae(u,o,a,a[0],i?ie(o,a[0],c,null):re(a[0]),null),r&&r.p&&(!i||c&1)&&ae(r,f,a,a[0],i?ie(f,a[0],c,Ue):re(a[0]),Me)},i(a){i||(I(u,a),I(r,a),i=!0)},o(a){q(u,a),q(r,a),i=!1},d(a){a&&h(e),u&&u.d(a),r&&r.d(a)}}}function ze(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class ge extends fe{constructor(e){super(),oe(this,e,ze,Ye,ue,{})}}function Ge(n){let e,t,l,s,i,o;const u=n[5].default,f=se(u,n,n[4],null);return{c(){e=w("a"),f&&f.c(),this.h()},l(r){e=k(r,"A",{class:!0,"data-is-selected":!0,"data-target-form":!0,tabindex:!0,href:!0});var a=E(e);f&&f.l(a),a.forEach(h),this.h()},h(){d(e,"class","flex flex-1 items-center justify-center px-8 py-4 gap-2 bg-slate-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest ring-gray-300 transition ease-in-out duration-150 aria-disabled:cursor-not-allowed aria-disabled:opacity-25 hover:bg-slate-500 active:bg-slate-800 focus:outline-none focus:border-slate-900 focus:ring focus:ring-offset-2"),d(e,"data-is-selected",n[2]),d(e,"data-target-form",n[3]),d(e,"tabindex",t=n[1]?-1:0),d(e,"href",l=n[1]?"javascript:void(0);":n[0]),ce(e,"opacity-50",n[1]),ce(e,"ring",n[2])},m(r,a){S(r,e,a),f&&f.m(e,null),s=!0,i||(o=J(e,"click",n[6]),i=!0)},p(r,[a]){f&&f.p&&(!s||a&16)&&ae(f,u,r,r[4],s?ie(u,r[4],a,null):re(r[4]),null),(!s||a&4)&&d(e,"data-is-selected",r[2]),(!s||a&8)&&d(e,"data-target-form",r[3]),(!s||a&2&&t!==(t=r[1]?-1:0))&&d(e,"tabindex",t),(!s||a&3&&l!==(l=r[1]?"javascript:void(0);":r[0]))&&d(e,"href",l),(!s||a&2)&&ce(e,"opacity-50",r[1]),(!s||a&4)&&ce(e,"ring",r[2])},i(r){s||(I(f,r),s=!0)},o(r){q(f,r),s=!1},d(r){r&&h(e),f&&f.d(r),i=!1,o()}}}function Je(n,e,t){let{$$slots:l={},$$scope:s}=e,{href:i=""}=e,{disabled:o=!1}=e,{selected:u=!1}=e,{form:f=void 0}=e;function r(a){ve.call(this,n,a)}return n.$$set=a=>{"href"in a&&t(0,i=a.href),"disabled"in a&&t(1,o=a.disabled),"selected"in a&&t(2,u=a.selected),"form"in a&&t(3,f=a.form),"$$scope"in a&&t(4,s=a.$$scope)},[i,o,u,f,s,l,r]}class pe extends fe{constructor(e){super(),oe(this,e,Je,Ge,ue,{href:0,disabled:1,selected:2,form:3})}}function Ae(n){let e,t;const l=n[9].default,s=se(l,n,n[8],null);return{c(){e=w("label"),s&&s.c(),this.h()},l(i){e=k(i,"LABEL",{for:!0,class:!0});var o=E(e);s&&s.l(o),o.forEach(h),this.h()},h(){d(e,"for",n[2]),d(e,"class","text-sm font-bold text-gray-700")},m(i,o){S(i,e,o),s&&s.m(e,null),n[11](e),t=!0},p(i,o){s&&s.p&&(!t||o&256)&&ae(s,l,i,i[8],t?ie(l,i[8],o,null):re(i[8]),null),(!t||o&4)&&d(e,"for",i[2])},i(i){t||(I(s,i),t=!0)},o(i){q(s,i),t=!1},d(i){i&&h(e),s&&s.d(i),n[11](null)}}}function Ke(n){let e,t,l,s,i,o,u,f=n[7].default&&Ae(n);return{c(){e=w("div"),f&&f.c(),t=A(),l=w("input"),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=E(e);f&&f.l(a),t=j(a),l=k(a,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0}),a.forEach(h),this.h()},h(){d(l,"id",n[2]),d(l,"class",s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(n[5]?"w-20":"w-auto")),d(l,"placeholder",n[0]),d(l,"type","text"),l.disabled=n[3],l.required=n[4],d(e,"class","flex flex-col gap-1")},m(r,a){S(r,e,a),f&&f.m(e,null),b(e,t),b(e,l),me(l,n[1]),i=!0,o||(u=[J(l,"input",n[10]),J(l,"input",n[12])],o=!0)},p(r,[a]){r[7].default?f?(f.p(r,a),a&128&&I(f,1)):(f=Ae(r),f.c(),I(f,1),f.m(e,t)):f&&(we(),q(f,1,1,()=>{f=null}),ke()),(!i||a&4)&&d(l,"id",r[2]),(!i||a&32&&s!==(s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(r[5]?"w-20":"w-auto")))&&d(l,"class",s),(!i||a&1)&&d(l,"placeholder",r[0]),(!i||a&8)&&(l.disabled=r[3]),(!i||a&16)&&(l.required=r[4]),a&2&&l.value!==r[1]&&me(l,r[1])},i(r){i||(I(f),i=!0)},o(r){q(f),i=!1},d(r){r&&h(e),f&&f.d(),o=!1,Ee(u)}}}function Oe(n,e,t){let{$$slots:l={},$$scope:s}=e;const i=He(l);let{id:o=void 0}=e,{placeholder:u=void 0}=e,{value:f=""}=e,{disabled:r=!1}=e,{required:a=!1}=e,{small:c=!1}=e,_;Ie(()=>{!u&&_&&t(0,u=_.textContent)});function L(g){ve.call(this,n,g)}function N(g){he[g?"unshift":"push"](()=>{_=g,t(6,_)})}function V(){f=this.value,t(1,f)}return n.$$set=g=>{"id"in g&&t(2,o=g.id),"placeholder"in g&&t(0,u=g.placeholder),"value"in g&&t(1,f=g.value),"disabled"in g&&t(3,r=g.disabled),"required"in g&&t(4,a=g.required),"small"in g&&t(5,c=g.small),"$$scope"in g&&t(8,s=g.$$scope)},[u,f,o,r,a,c,_,i,s,l,L,N,V]}class be extends fe{constructor(e){super(),oe(this,e,Oe,Ke,ue,{id:2,placeholder:0,value:1,disabled:3,required:4,small:5})}}function je(n){let e,t;const l=n[12].default,s=se(l,n,n[11],null);return{c(){e=w("label"),s&&s.c(),this.h()},l(i){e=k(i,"LABEL",{for:!0,class:!0});var o=E(e);s&&s.l(o),o.forEach(h),this.h()},h(){d(e,"for",n[2]),d(e,"class","text-sm font-bold text-gray-700")},m(i,o){S(i,e,o),s&&s.m(e,null),n[14](e),t=!0},p(i,o){s&&s.p&&(!t||o&2048)&&ae(s,l,i,i[11],t?ie(l,i[11],o,null):re(i[11]),null),(!t||o&4)&&d(e,"for",i[2])},i(i){t||(I(s,i),t=!0)},o(i){q(s,i),t=!1},d(i){i&&h(e),s&&s.d(i),n[14](null)}}}function Qe(n){let e,t,l,s,i,o,u,f=n[10].default&&je(n);return{c(){e=w("div"),f&&f.c(),t=A(),l=w("input"),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=E(e);f&&f.l(a),t=j(a),l=k(a,"INPUT",{id:!0,class:!0,placeholder:!0,type:!0,min:!0,max:!0,step:!0}),a.forEach(h),this.h()},h(){d(l,"id",n[2]),d(l,"class",s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(n[8]?"w-20":"w-auto")),d(l,"placeholder",n[0]),d(l,"type","range"),l.disabled=n[6],l.required=n[7],d(l,"min",n[3]),d(l,"max",n[4]),d(l,"step",n[5]),d(e,"class","flex flex-col gap-1")},m(r,a){S(r,e,a),f&&f.m(e,null),b(e,t),b(e,l),me(l,n[1]),i=!0,o||(u=[J(l,"input",n[13]),J(l,"change",n[15]),J(l,"input",n[15])],o=!0)},p(r,[a]){r[10].default?f?(f.p(r,a),a&1024&&I(f,1)):(f=je(r),f.c(),I(f,1),f.m(e,t)):f&&(we(),q(f,1,1,()=>{f=null}),ke()),(!i||a&4)&&d(l,"id",r[2]),(!i||a&256&&s!==(s="flex-1 px-4 py-2 border text-black border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent "+(r[8]?"w-20":"w-auto")))&&d(l,"class",s),(!i||a&1)&&d(l,"placeholder",r[0]),(!i||a&64)&&(l.disabled=r[6]),(!i||a&128)&&(l.required=r[7]),(!i||a&8)&&d(l,"min",r[3]),(!i||a&16)&&d(l,"max",r[4]),(!i||a&32)&&d(l,"step",r[5]),a&2&&me(l,r[1])},i(r){i||(I(f),i=!0)},o(r){q(f),i=!1},d(r){r&&h(e),f&&f.d(),o=!1,Ee(u)}}}function Xe(n,e,t){let{$$slots:l={},$$scope:s}=e;const i=He(l);let{id:o=void 0}=e,{placeholder:u=void 0}=e,{value:f}=e,{min:r=0}=e,{max:a=100}=e,{step:c=1}=e,{disabled:_=!1}=e,{required:L=!1}=e,{small:N=!1}=e,V;Ie(()=>{!u&&V&&t(0,u=V.textContent)});function g(p){ve.call(this,n,p)}function Y(p){he[p?"unshift":"push"](()=>{V=p,t(9,V)})}function M(){f=Re(this.value),t(1,f)}return n.$$set=p=>{"id"in p&&t(2,o=p.id),"placeholder"in p&&t(0,u=p.placeholder),"value"in p&&t(1,f=p.value),"min"in p&&t(3,r=p.min),"max"in p&&t(4,a=p.max),"step"in p&&t(5,c=p.step),"disabled"in p&&t(6,_=p.disabled),"required"in p&&t(7,L=p.required),"small"in p&&t(8,N=p.small),"$$scope"in p&&t(11,s=p.$$scope)},[u,f,o,r,a,c,_,L,N,V,i,s,l,g,Y,M]}class Ze extends fe{constructor(e){super(),oe(this,e,Xe,Qe,ue,{id:2,placeholder:0,value:1,min:3,max:4,step:5,disabled:6,required:7,small:8})}}const x="http://localhost:8088";function $e(n){let e;return{c(){e=C("Framerate")},l(t){e=H(t,"Framerate")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function xe(n){var l;let e,t;return e=new be({props:{slot:"input",disabled:!0,value:(l=n[4])==null?void 0:l.toString()}}),{c(){F(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,i){B(e,s,i),t=!0},p(s,i){var u;const o={};i&16&&(o.value=(u=s[4])==null?void 0:u.toString()),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){q(e.$$.fragment,s),t=!1},d(s){U(e,s)}}}function et(n){let e;return{c(){e=C("Resolution")},l(t){e=H(t,"Resolution")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function tt(n){var o,u;let e,t,l,s,i;return t=new be({props:{small:!0,disabled:!0,value:(o=n[2])==null?void 0:o.toString()}}),s=new be({props:{small:!0,disabled:!0,value:(u=n[3])==null?void 0:u.toString()}}),{c(){e=w("div"),F(t.$$.fragment),l=C(`\r
          x\r
          `),F(s.$$.fragment),this.h()},l(f){e=k(f,"DIV",{slot:!0,class:!0});var r=E(e);W(t.$$.fragment,r),l=H(r,`\r
          x\r
          `),W(s.$$.fragment,r),r.forEach(h),this.h()},h(){d(e,"slot","input"),d(e,"class","flex flex-row gap-2")},m(f,r){S(f,e,r),B(t,e,null),b(e,l),B(s,e,null),i=!0},p(f,r){var _,L;const a={};r&4&&(a.value=(_=f[2])==null?void 0:_.toString()),t.$set(a);const c={};r&8&&(c.value=(L=f[3])==null?void 0:L.toString()),s.$set(c)},i(f){i||(I(t.$$.fragment,f),I(s.$$.fragment,f),i=!0)},o(f){q(t.$$.fragment,f),q(s.$$.fragment,f),i=!1},d(f){f&&h(e),U(t),U(s)}}}function lt(n){let e;return{c(){e=C("Scale")},l(t){e=H(t,"Scale")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function nt(n){let e,t,l;function s(o){n[12](o)}let i={slot:"input",step:.1,min:.1,max:1};return n[1]!==void 0&&(i.value=n[1]),e=new Ze({props:i}),he.push(()=>Fe(e,"value",s)),{c(){F(e.$$.fragment)},l(o){W(e.$$.fragment,o)},m(o,u){B(e,o,u),l=!0},p(o,u){const f={};!t&&u&2&&(t=!0,f.value=o[1],We(()=>t=!1)),e.$set(f)},i(o){l||(I(e.$$.fragment,o),l=!0)},o(o){q(e.$$.fragment,o),l=!1},d(o){U(e,o)}}}function st(n){let e,t;return e=new pe({props:{$$slots:{default:[rt]},$$scope:{ctx:n}}}),e.$on("click",n[7]),{c(){F(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){B(e,l,s),t=!0},p(l,s){const i={};s&1048576&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(I(e.$$.fragment,l),t=!0)},o(l){q(e.$$.fragment,l),t=!1},d(l){U(e,l)}}}function at(n){let e,t,l,s,i;return t=new pe({props:{$$slots:{default:[it]},$$scope:{ctx:n}}}),t.$on("click",n[8]),s=new pe({props:{$$slots:{default:[ft]},$$scope:{ctx:n}}}),s.$on("click",n[9]),{c(){e=w("div"),F(t.$$.fragment),l=A(),F(s.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var u=E(e);W(t.$$.fragment,u),l=j(u),W(s.$$.fragment,u),u.forEach(h),this.h()},h(){d(e,"class","flex flex-row gap-2")},m(o,u){S(o,e,u),B(t,e,null),b(e,l),B(s,e,null),i=!0},p(o,u){const f={};u&1048576&&(f.$$scope={dirty:u,ctx:o}),t.$set(f);const r={};u&1048576&&(r.$$scope={dirty:u,ctx:o}),s.$set(r)},i(o){i||(I(t.$$.fragment,o),I(s.$$.fragment,o),i=!0)},o(o){q(t.$$.fragment,o),q(s.$$.fragment,o),i=!1},d(o){o&&h(e),U(t),U(s)}}}function rt(n){let e;return{c(){e=C("Play")},l(t){e=H(t,"Play")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function it(n){let e;return{c(){e=C("Pause")},l(t){e=H(t,"Pause")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function ft(n){let e;return{c(){e=C("Stop")},l(t){e=H(t,"Stop")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function Ce(n){let e,t,l,s=n[0].heading+"",i,o,u,f=n[0].message+"";return{c(){e=w("div"),t=w("div"),l=w("h1"),i=C(s),o=A(),u=w("p"),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=E(e);t=k(a,"DIV",{class:!0});var c=E(t);l=k(c,"H1",{class:!0});var _=E(l);i=H(_,s),_.forEach(h),o=j(c),u=k(c,"P",{class:!0});var L=E(u);L.forEach(h),c.forEach(h),a.forEach(h),this.h()},h(){d(l,"class","text-2xl font-bold"),d(u,"class","text-gray-600"),d(t,"class","flex flex-col gap-2 p-4 bg-white rounded-lg shadow w-64"),d(e,"class","fixed text-black bg-black bg-opacity-50 inset-0 z-50 flex flex-col items-center justify-center")},m(r,a){S(r,e,a),b(e,t),b(t,l),b(l,i),b(t,o),b(t,u),u.innerHTML=f},p(r,a){a&1&&s!==(s=r[0].heading+"")&&Be(i,s),a&1&&f!==(f=r[0].message+"")&&(u.innerHTML=f)},d(r){r&&h(e)}}}function ot(n){let e,t,l,s,i,o,u,f,r,a,c,_,L,N,V,g,Y,M,p,ee,te,K,P,D,O,le,de,X,R,_e,Ve;s=new ge({props:{$$slots:{input:[xe],default:[$e]},$$scope:{ctx:n}}}),o=new ge({props:{$$slots:{input:[tt],default:[et]},$$scope:{ctx:n}}}),f=new ge({props:{$$slots:{input:[nt],default:[lt]},$$scope:{ctx:n}}});const qe=[at,st],G=[];function Pe(m,v){return m[6].playing?0:1}V=Pe(n),g=G[V]=qe[V](n);let y=n[0]&&Ce(n);return{c(){e=w("main"),t=w("div"),l=w("div"),F(s.$$.fragment),i=A(),F(o.$$.fragment),u=A(),F(f.$$.fragment),r=A(),a=w("div"),c=w("div"),_=w("iframe"),N=A(),g.c(),Y=A(),M=w("div"),p=w("h2"),ee=C("How to render"),te=A(),K=w("p"),P=C("You can render this video by running this command in the root of your video project:"),D=A(),O=w("pre"),le=C("videobrew render"),de=A(),y&&y.c(),X=Le(),this.h()},l(m){e=k(m,"MAIN",{class:!0});var v=E(e);t=k(v,"DIV",{class:!0});var Q=E(t);l=k(Q,"DIV",{class:!0});var z=E(l);W(s.$$.fragment,z),i=j(z),W(o.$$.fragment,z),u=j(z),W(f.$$.fragment,z),z.forEach(h),r=j(Q),a=k(Q,"DIV",{class:!0,style:!0});var ne=E(a);c=k(ne,"DIV",{class:!0,style:!0});var Z=E(c);_=k(Z,"IFRAME",{title:!0,src:!0,class:!0,id:!0,width:!0,height:!0});var Ne=E(_);Ne.forEach(h),Z.forEach(h),ne.forEach(h),Q.forEach(h),N=j(v),g.l(v),Y=j(v),M=k(v,"DIV",{class:!0});var $=E(M);p=k($,"H2",{class:!0});var Se=E(p);ee=H(Se,"How to render"),Se.forEach(h),te=j($),K=k($,"P",{});var De=E(K);P=H(De,"You can render this video by running this command in the root of your video project:"),De.forEach(h),D=j($),O=k($,"PRE",{});var ye=E(O);le=H(ye,"videobrew render"),ye.forEach(h),$.forEach(h),v.forEach(h),de=j(m),y&&y.l(m),X=Le(),this.h()},h(){d(l,"class","flex flex-col gap-2 p-4 bg-slate-600 items-center"),d(_,"title","Video described by web-app"),Te(_.src,L=x)||d(_,"src",L),d(_,"class","hidden"),d(_,"id","video"),d(_,"width",n[2]),d(_,"height",n[3]),d(c,"class","relative overflow-hidden inline-block bg-white"),T(c,"width",n[2]+"px"),T(c,"height",n[3]+"px"),T(c,"transform","scale("+n[1]+")"),T(c,"transform-origin","top left"),d(a,"class","overflow-hidden m-2"),T(a,"width",n[2]*n[1]+"px"),T(a,"height",n[3]*n[1]+"px"),d(t,"class","flex flex-col bg-slate-700 border-inside border-2 border-slate-600"),d(p,"class","text-xl"),d(M,"class","rounded bg-slate-700 p-4"),d(e,"class","flex flex-col gap-4")},m(m,v){S(m,e,v),b(e,t),b(t,l),B(s,l,null),b(l,i),B(o,l,null),b(l,u),B(f,l,null),b(t,r),b(t,a),b(a,c),b(c,_),n[13](_),b(e,N),G[V].m(e,null),b(e,Y),b(e,M),b(M,p),b(p,ee),b(M,te),b(M,K),b(K,P),b(M,D),b(M,O),b(O,le),S(m,de,v),y&&y.m(m,v),S(m,X,v),R=!0,_e||(Ve=[J(window,"message",n[11]),J(_,"load",n[10])],_e=!0)},p(m,[v]){const Q={};v&1048592&&(Q.$$scope={dirty:v,ctx:m}),s.$set(Q);const z={};v&1048588&&(z.$$scope={dirty:v,ctx:m}),o.$set(z);const ne={};v&1048578&&(ne.$$scope={dirty:v,ctx:m}),f.$set(ne),(!R||v&4)&&d(_,"width",m[2]),(!R||v&8)&&d(_,"height",m[3]),(!R||v&4)&&T(c,"width",m[2]+"px"),(!R||v&8)&&T(c,"height",m[3]+"px"),(!R||v&2)&&T(c,"transform","scale("+m[1]+")"),(!R||v&6)&&T(a,"width",m[2]*m[1]+"px"),(!R||v&10)&&T(a,"height",m[3]*m[1]+"px");let Z=V;V=Pe(m),V===Z?G[V].p(m,v):(we(),q(G[Z],1,1,()=>{G[Z]=null}),ke(),g=G[V],g?g.p(m,v):(g=G[V]=qe[V](m),g.c()),I(g,1),g.m(e,Y)),m[0]?y?y.p(m,v):(y=Ce(m),y.c(),y.m(X.parentNode,X)):y&&(y.d(1),y=null)},i(m){R||(I(s.$$.fragment,m),I(o.$$.fragment,m),I(f.$$.fragment,m),I(g),R=!0)},o(m){q(s.$$.fragment,m),q(o.$$.fragment,m),q(f.$$.fragment,m),q(g),R=!1},d(m){m&&h(e),U(s),U(o),U(f),n[13](null),G[V].d(),m&&h(de),y&&y.d(m),m&&h(X),_e=!1,Ee(Ve)}}}function ut(n,e,t){let l={heading:"Loading...",message:`Please wait while we load your video @ <a href="${x}" target="_new">${x}</a>`},s=.2,i,o,u,f,r,a,c={playing:!1,frame:0};function _(P,D){if(!a.contentWindow)throw new Error("Video iframe has no contentWindow");a.contentWindow.postMessage({...D,type:P})}function L(){t(6,c.playing=!0,c),r&&clearInterval(r),r=setInterval(()=>{c.playing&&(c.frame>=f&&Y(),_("videobrew.tick",{frame:c.frame}),V())},1e3/u)}function N(){t(6,c.playing=!1,c)}function V(){t(6,c.frame++,c)}function g(){t(6,c.frame=0,c)}function Y(){N(),g(),_("videobrew.tick",{frame:c.frame}),r&&clearInterval(r)}function M(){console.log("Video loaded"),_("videobrew.init"),_("videobrew.tick",{frame:c.frame})}function p(P){if(P.origin!==document.location.origin)return;const{data:D}=P;switch(D.type){case"videobrew.setup":ee(D.width,D.height,D.framerate,D.frameCount);break}}function ee(P,D,O,le){t(2,i=P),t(3,o=D),t(4,u=O),f=le,console.log("Video setup",{width:i,height:o,framerate:u,frameCount:f}),a.classList.remove("hidden")}Ie(()=>{const P=()=>{t(0,l={heading:"Video not found",message:`We couldn't find your video @ <a href="${x}" target="_new">${x}</a><br>You should check that you are serving your video correctly.`})};fetch(x).then(D=>{if(!D.ok)return P()}).catch(D=>P())});function te(P){s=P,t(1,s)}function K(P){he[P?"unshift":"push"](()=>{a=P,t(5,a)})}return[l,s,i,o,u,a,c,L,N,Y,M,p,te,K]}class ct extends fe{constructor(e){super(),oe(this,e,ut,ot,ue,{})}}export{ct as default};
